{"version":3,"sources":["contexts/UserContext.js","apis/user.js","utils/url.js","hooks/useOnBlur.js","ComboBox.js","TabLink.js","Search.js","DropMenu.js","TextInput.js","ResetPassword.js","SignedInMenu.js","UnconfirmedUser.js","ForgotPassword.js","SignIn.js","SignUp.js","SignInUp.js","TopNav.js","hooks/useInput.js","ArtistInput.js","TabEditor.js","TabForm.js","TabNew.js","TabList.js","ArtistTabs.js","Tabs.js","TabEdit.js","UserLink.js","Tab.js","UserTabs.js","App.js","reportWebVitals.js","index.js"],"names":["initialState","isLoggedIn","isEmailConfirmed","email","username","emailToken","UserContext","createContext","userReducer","state","action","type","email_confirmed","email_confirmation_token","UserProvider","props","useReducer","user","dispatch","userData","useState","userChecked","setUserChecked","useEffect","axios","get","then","response","data","catch","error","console","log","message","Provider","value","toURL","url","replace","fromURL","useOnBlur","ref","onBlur","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","ComboBox","valueProp","items","itemsProp","icon","required","placeholder","onChange","onSelect","clearButton","clearButtonIcon","renderItem","highlightOnTabKeyDown","valueChangeOnHighlight","selectedIndex","setSelectedIndex","setItems","setValue","useRef","iconComponent","React","cloneElement","className","onItemsClear","onItemSelect","item","onItemHighlight","onKeyDown","event","keyCode","preventDefault","length","newSelectedIndex","onClick","map","index","highlighted","label","TabLink","children","artist","title","edit","to","encodedUrl","withRouter","history","tabs","setTabs","tab","push","DropMenu","button","open","setOpen","onclick","href","TextInput","ResetPassword","location","useContext","userDispatch","search","useLocation","queryString","parse","token","password","setPassword","passwordConfirmation","setPasswordConfirmation","resetted","setResetted","signedIn","setSignedIn","onSubmit","post","resetPassword","showResetPassword","setShowResetPassword","delete","UnconfirmedUser","showForm","setShowForm","setEmail","sendNewConfirmation","name","ForgotPassword","showForgotPassword","setShowForgotPassword","sendForgotPassword","unconfirmed","setUnconfirmed","formElements","elements","signIn","SignUp","signedUp","setSignedUp","signUp","SignInUp","TopNav","useNonNativeInput","initialValue","reset","bind","ArtistInput","readOnly","setArtist","artists","setArtists","onArtistChange","newArtist","id","TabEditor","insertMode","getSelectionIndex","cursor","lines","slice","line","reduce","a","b","ch","options","mode","theme","lineNumbers","onBeforeChange","editor","_value","textData","text","from","origin","split","deleting","fromIndex","toIndex","selecting","textDataStr","join","overwriting","allDashes","substring","every","char","charAt","lastChar","deleteWithDash","indexOf","newValue","TabForm","onSave","useInput","bindTitle","bindArtist","bindTab","setInsertMode","TabNew","saving","setSaving","setError","TabList","renderTabText","renderEmpty","ArtistTabs","params","useParams","loading","setLoading","loaded","setLoaded","Tabs","TabEdit","onSaveProp","createdByUsername","patch","UserLink","Tab","tabID","setTabID","setCreatedByUsername","setTab","setTitle","setEdit","sameTabLoaded","toLowerURL","artistName","toLowerCase","created_by_username","UserTabs","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.03474c0b.chunk.js","sourcesContent":["import React, { createContext, useEffect, useReducer, useState } from 'react';\nimport { getUser } from '../apis/user';\n\n// Initial state\nconst initialState = {\n  isLoggedIn: false,\n  isEmailConfirmed: false,\n  email: null,\n  username: null,\n  emailToken: null,\n};\n\nconst UserContext = createContext(initialState);\n\n// Reducer\nfunction userReducer(state, action) {\n  switch (action.type) {\n    case 'login':\n      return {\n        isLoggedIn: true,\n        isEmailConfirmed: action.email_confirmed,\n        email: action.email,\n        username: action.username,\n        emailToken: action.email_confirmation_token,\n      };\n    case 'logout':\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nfunction UserProvider(props) {\n  const [user, dispatch] = useReducer(userReducer, initialState);\n  const userData = { user, dispatch };\n  const [userChecked, setUserChecked] = useState(false);\n\n  useEffect(() => {\n    // check if logged in, get current user\n    if (userChecked || (user && user.isLoggedIn)) return;\n\n    setUserChecked(true);\n\n    getUser().then(response => {\n      const data = response.data;\n\n      if (data) {\n        dispatch({ type: \"login\", ...data });\n      }\n    }).catch(error => {\n      const data = error.response.data;\n      console.log(data.message);\n    });\n  }, [userChecked, user]);\n\n  return <UserContext.Provider value={userData} {...props} />;\n}\n\nexport {\n  UserContext,\n  UserProvider,\n};\n","import axios from 'axios';\n\nconst getUser = () => {\n  return axios.get('/api/user');\n};\n\nconst signIn = ({\n  username,\n  password\n}) => {\n  return axios.post('/api/sign_in', {\n    username,\n    password\n  });\n};\n\nconst signUp = ({\n  email,\n  username,\n  password\n}) => {\n  return axios.post('/api/sign_up', {\n    email,\n    username,\n    password\n  });\n};\n\nconst signOut = () => {\n  return axios.delete('/api/sign_out');\n};\n\nconst sendNewConfirmation = email => {\n  return axios.post('/api/user/new_confirmation_email', { email });\n}\n\nconst sendForgotPassword = email => {\n  return axios.post('/api/user/send_forgot_password', { email });\n}\n\nconst resetPassword = ({\n  email,\n  token,\n  password\n}) => {\n  return axios.post('/api/user/reset_password', {\n    email,\n    token,\n    password\n  });\n}\n\nexport {\n  getUser,\n  signIn,\n  signUp,\n  signOut,\n  sendNewConfirmation,\n  sendForgotPassword,\n  resetPassword,\n};\n","function toURL(url) {\n  // replace spaces with +, replace ? with %3F\n  return url\n    .replace(/\\s/g, '+')\n    .replace(/\\?/g, \"%3F\");\n}\n\nfunction fromURL(url) {\n  // replace + with spaces, replace %3F with ?\n  return url\n    .replace(/\\+/g, ' ')\n    .replace(/(%3F)/g, '?');\n}\n\nexport {\n  toURL,\n  fromURL,\n};\n","import { useEffect } from \"react\";\n\nexport const useOnBlur = (ref, onBlur) => {\n  useEffect(() => {\n    const handleClick = e => {\n      if (ref.current.contains(e.target)) {\n        // inside click\n        return;\n      }\n\n      // outside click\n      onBlur();\n    };\n\n    // add when mounted\n    document.addEventListener(\"mousedown\", handleClick);\n\n    // return function to be called when unmounted\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, [ref, onBlur]);\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useOnBlur } from './hooks/useOnBlur';\nimport { FaTimesCircle as CloseIcon } from 'react-icons/fa';\n\nimport './ComboBox.scss';\n\nfunction ComboBox({\n  value: valueProp = \"\",\n  items: itemsProp = [],\n  icon,\n  required,\n  placeholder,\n  onChange,\n  onSelect,\n  clearButton = true,\n  clearButtonIcon = <CloseIcon />,\n  renderItem,\n  highlightOnTabKeyDown = false,\n  valueChangeOnHighlight = false,\n}) {\n  const [selectedIndex, setSelectedIndex] = useState(null);\n  const [items, setItems] = useState(itemsProp);\n  const [value, setValue] = useState(valueProp);\n  const ref = useRef();\n  const iconComponent = icon && React.cloneElement(icon, {...icon.props, className: icon.props.className ? icon.props.className + \" icon\" : \"icon\"});\n\n  useEffect(() => {\n    setItems(itemsProp);\n  }, [itemsProp]);\n\n  const onInputChange = event => {\n    const value = event.target.value;\n\n    setValue(value);\n    setSelectedIndex(null);\n\n    onChange(value);\n  };\n\n  const onClear = () => {\n    setValue(\"\");\n    onItemsClear();\n  };\n\n  const onItemsClear = () => {\n    setItems([]);\n    setSelectedIndex(null);\n  };\n\n  const onItemSelect = item => {\n    if (item) {\n      onItemHighlight(item);\n      onSelect(item);\n      onItemsClear();\n    }\n  };\n\n  const onItemHighlight = item => {\n    if (item && valueChangeOnHighlight) {\n      setValue(valueChangeOnHighlight(item));\n    }\n  };\n\n  const onKeyDown = event => {\n    if (event.keyCode === 40) {\n      // down\n      event.preventDefault();\n\n      if (!items.length) return;\n\n      let newSelectedIndex = (!selectedIndex && selectedIndex !== 0) || selectedIndex === items.length - 1 ? 0 : selectedIndex + 1;\n      // debugger;\n      setSelectedIndex(newSelectedIndex);\n\n      onItemHighlight(items[newSelectedIndex]);\n    } else if (event.keyCode === 38) {\n      // up\n      event.preventDefault();\n\n      if (!items.length) return;\n\n      let newSelectedIndex = !selectedIndex || selectedIndex === 0 ? items.length - 1 : selectedIndex - 1;\n\n      setSelectedIndex(newSelectedIndex);\n\n      onItemHighlight(items[newSelectedIndex]);\n    } else if (event.keyCode === 13) {\n      // enter/return\n      event.preventDefault();\n\n      onItemSelect(items[selectedIndex]);\n    } else if (event.keyCode === 9) {\n      // tab\n      if (highlightOnTabKeyDown) {\n        if (selectedIndex || selectedIndex === 0) {\n          onItemSelect(items[selectedIndex]);\n        } else {\n          event.preventDefault();\n\n          let newSelectedIndex = selectedIndex || 0;\n\n          setSelectedIndex(newSelectedIndex);\n\n          onItemHighlight(items[newSelectedIndex]);\n        }\n      } else {\n        onItemsClear();\n      }\n    } else if (event.keyCode === 27) {\n      // esc/escape\n      onItemsClear();\n    }\n  };\n\n  useOnBlur(ref, onItemsClear);\n\n  return (\n    <div className=\"combo-box\" ref={ref} onKeyDown={onKeyDown}>\n      <div className=\"combo-box-input-container\">\n        {iconComponent}\n        <input\n          type=\"text\"\n          value={value}\n          required={required}\n          placeholder={placeholder}\n          onChange={onInputChange}\n        />\n        {clearButton &&\n          <button\n            className={`combo-box-clear ${value === \"\" ? \"hidden\" : \"\"}`}\n            type=\"reset\"\n            onClick={onClear}\n          >\n            {clearButtonIcon}\n          </button>\n        }\n      </div>\n      { items && !!items.length &&\n        <ul className=\"combo-box-items\">\n          {items.map((item, index) => {\n            const highlighted = selectedIndex === index;\n\n            return (\n              <li\n                key={index}\n                onClick={() => onItemSelect(item)}\n                className={`combo-box-item${highlighted ? ' highlighted' : ''}`}\n              >\n                {renderItem && renderItem(item, index, highlighted)}\n                {!renderItem && item.label}\n              </li>\n            );\n          })}\n        </ul>\n      }\n    </div>\n  );\n}\n\nexport default ComboBox;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { toURL } from './utils/url';\n\nfunction TabLink({ children, artist, title, edit, ...props }) {\n  const encodedUrl = () => {\n    let url = \"/tabs/\" + toURL(`${artist}/${title}`);\n\n    if (edit) url += \"/edit\";\n\n    return url;\n  };\n\n  return (\n    <Link to={encodedUrl()} {...props}>\n      {children || title}\n    </Link>\n  );\n}\n\nexport default TabLink;\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport { FaSearch as SearchIcon } from 'react-icons/fa';\nimport { toURL } from './utils/url';\nimport ComboBox from './ComboBox';\nimport TabLink from './TabLink';\n\nimport './Search.scss';\n\nfunction Search({history}) {\n  const [tabs, setTabs] = useState([]);\n\n  const onSearchChange = value => {\n    axios.get(`/api/tabs?q=${value}`).then(response => {\n      setTabs(response.data);\n    }).catch(error => {\n      const data = error.response.data;\n      console.log(data.message);\n    });\n  };\n\n  const onSearchResultSelect = tab => {\n    if (tab) {\n      history.push(`/tabs/${toURL(tab.artist)}/${toURL(tab.title)}`);\n    }\n  };\n\n  return (\n    <div className=\"search\">\n      <ComboBox\n        icon={<SearchIcon />}\n        placeholder=\"search tabs\"\n        items={tabs}\n        renderItem={(tab, index, highlighted) =>\n          <TabLink artist={tab.artist} title={tab.title}>\n            <div\n              className={`search-result${highlighted ? ' selected' : ''}`}\n            >\n              {tab.title} - {tab.artist}\n            </div>\n          </TabLink>\n        }\n        onChange={onSearchChange}\n        onSelect={onSearchResultSelect}\n      />\n    </div>\n  );\n}\n\nexport default withRouter(Search);\n","import React, { useRef, useState} from 'react';\nimport { useOnBlur } from './hooks/useOnBlur';\n\nimport './DropMenu.scss';\n\nfunction DropMenu({\n  button,\n  children,\n}) {\n  const [open, setOpen] = useState(false);\n  const ref = useRef();\n\n  const onClick = event => {\n    if (event.target.onclick && event.target.href) {\n      setOpen(false);\n    }\n  };\n\n  const onMenuButtonClick = event => {\n    setOpen(!open);\n  };\n\n  useOnBlur(ref, () => setOpen(false));\n\n  return(\n    <span\n      className=\"drop-menu\"\n      onClick={onClick}\n      ref={ref}\n    >\n      <span\n        onClick={onMenuButtonClick}\n      >\n        {button()}\n      </span>\n      {open &&\n        <div className=\"menu\">\n          {children}\n        </div>\n      }\n    </span>\n  );\n}\n\nexport default DropMenu;\n","import React from 'react';\n\nimport './TextInput.scss';\n\nexport default function TextInput(props) {\n  return(\n    <div className=\"text-input\">\n      <input type=\"text\" {...props} />\n    </div>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { UserContext } from './contexts/UserContext';\nimport { resetPassword } from './apis/user';\nimport TextInput from './TextInput';\n\nfunction ResetPassword({location}) {\n  const { user, dispatch: userDispatch } = useContext(UserContext);\n  const { search } = useLocation();\n  const { email, token } = queryString.parse(search);\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\n  const [resetted, setResetted] = useState(false);\n  const [signedIn, setSignedIn] = useState(false);\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n    if (password !== passwordConfirmation) {\n      // TODO: error message/validation CSS etc\n      return;\n    }\n\n    resetPassword({\n      email: email || user.email,\n      token: token || user.emailToken,\n      password: password,\n    }).then(response => {\n      const data = response.data;\n\n      if (data) {\n        setSignedIn(!user.isLoggedIn);\n        userDispatch({ type: \"login\", ...data });\n        setResetted(true);\n      }\n    }).catch(error => {\n      const data = error.response.data;\n\n      if (data) {\n        console.log(data.message);\n      }\n    });\n  };\n\n  if (resetted) {\n    return(\n      <div>\n        Password successfully reset\n        {\n          signedIn && \", you have been signed in\"\n        }\n        .\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div className=\"field\">\n        <TextInput\n          type=\"password\"\n          required\n          value={password}\n          onChange={event => setPassword(event.target.value)}\n          placeholder=\"password\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <TextInput\n          type=\"password\"\n          required\n          value={passwordConfirmation}\n          onChange={event => setPasswordConfirmation(event.target.value)}\n          placeholder=\"confirmation\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <input\n          type=\"submit\"\n          className=\"btn-primary\"\n          value=\"reset\"\n        />\n      </div>\n    </form>\n  );\n}\n\nexport default ResetPassword;\n","import React, { useContext, useRef, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { UserContext } from './contexts/UserContext';\nimport { useOnBlur } from './hooks/useOnBlur';\nimport { signOut } from './apis/user';\nimport {\n  FaBars as MenuIcon,\n} from 'react-icons/fa';\nimport DropMenu from './DropMenu';\nimport ResetPassword from './ResetPassword';\n\nimport './SignedInMenu.scss';\n\nfunction SignedInMenu({history}) {\n  const { user, dispatch: userDispatch } = useContext(UserContext);\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const ref = useRef();\n\n  const onSignOut = event => {\n    event.preventDefault();\n\n    signOut().then(response => {\n      const data = response.data;\n\n      if (data) {\n        userDispatch({ type: 'logout'});\n        history.push('/');\n      }\n    }).catch(error => {\n      const data = error.response.data;\n      console.log(data.message);\n    });\n  };\n\n  useOnBlur(ref, () => setShowResetPassword(false));\n\n  return (\n    <div className=\"signed-in-menu\" ref={ref}>\n      <DropMenu\n        button={() =>\n          <span className=\"menu-btn link-primary\">\n            <MenuIcon />\n          </span>\n        }\n      >\n        {showResetPassword && <ResetPassword />}\n        {!showResetPassword &&\n          <div>\n            <div>\n              {user.username}\n            </div>\n            <div>\n              {user.email}\n            </div>\n            <div>\n              <span className=\"link-primary\" onClick={() => setShowResetPassword(true)}>reset password</span>\n            </div>\n            <div className=\"menu-footer\">\n              <span\n                className=\"link-primary\"\n                onClick={onSignOut}\n              >\n                sign out\n              </span>\n            </div>\n          </div>\n        }\n      </DropMenu>\n    </div>\n  );\n}\n\nexport default withRouter(SignedInMenu);\n","import React, { useState } from 'react';\nimport { sendNewConfirmation } from './apis/user';\nimport TextInput from './TextInput';\n\nfunction UnconfirmedUser() {\n  const [showForm, setShowForm] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const onSend = event => {\n    event.preventDefault();\n\n    sendNewConfirmation(email).then(response => {\n      const data = response.data;\n\n      if (data) {\n        setShowForm(false);\n      }\n    }).catch(error => {\n      const data = error.response.data;\n\n      if (data) {\n        console.log(data.message);\n      }\n    });\n  };\n\n  if (!showForm) {\n    return(\n      <div>\n        click the link sent to your email\n        <br />\n        to confirm your email and account\n        <br />\n        or\n        <span\n          className=\"link-primary\"\n          onClick={() => setShowForm(true)}\n        >\n          send another one\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={onSend}>\n      <div className=\"field\">\n        <TextInput\n          type=\"text\"\n          name=\"email\"\n          required\n          placeholder=\"email\"\n          value={email}\n          onChange={event => setEmail(event.target.value)}\n        />\n        <span className=\"field\">\n          <input\n            type=\"submit\"\n            className=\"btn-primary\"\n            value=\"send\"\n          />\n        </span>\n      </div>\n    </form>\n  );\n}\n\nexport default UnconfirmedUser;\n","import React, { useState } from 'react';\nimport { sendForgotPassword } from './apis/user';\nimport TextInput from './TextInput';\n\nfunction ForgotPassword() {\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [email, setEmail] = useState(\"\");\n\n  const onSendForgotPassword = event => {\n    event.preventDefault();\n\n    sendForgotPassword(email).then(response => {\n      const data = response.data;\n\n      if (data) {\n        setShowForgotPassword(false);\n      }\n    }).catch(error => {\n      const data = error.response.data;\n\n      if (data) {\n        console.log(data.message);\n      }\n    });\n  };\n\n  if (!showForgotPassword) {\n    return(\n      <span className=\"field\">\n        <span\n          className=\"link-primary\"\n          onClick={() => setShowForgotPassword(true)}\n        >\n          forgot password?\n        </span>\n      </span>\n    );\n  }\n\n  return(\n    <span className=\"field\">\n      <TextInput\n        type=\"text\"\n        name=\"email\"\n        required\n        placeholder=\"email\"\n        value={email}\n        onChange={event => setEmail(event.target.value)}\n      />\n      <span className=\"field\">\n        <input\n          type=\"submit\"\n          className=\"btn-primary\"\n          value=\"send\"\n          onClick={onSendForgotPassword}\n        />\n      </span>\n    </span>\n  );\n}\n\nexport default ForgotPassword;\n","import React, { useContext, useState } from 'react';\nimport { UserContext } from './contexts/UserContext';\nimport { withRouter } from 'react-router-dom';\nimport { signIn } from './apis/user';\nimport UnconfirmedUser from './UnconfirmedUser';\nimport ForgotPassword from './ForgotPassword';\nimport TextInput from './TextInput';\n\nfunction SignIn({history}) {\n  const { dispatch: userDispatch } = useContext(UserContext);\n  const [unconfirmed, setUnconfirmed] = useState(false);\n\n  const onSubmit = event => {\n    const formElements = event.target.elements;\n\n    event.preventDefault();\n\n    signIn({\n      username: formElements.username.value,\n      password: formElements.password.value,\n    }).then(response => {\n      const data = response.data;\n\n      if (data) {\n        userDispatch({ type: \"login\", ...data });\n        history.push(\"/tabs\");\n      }\n    }).catch(error => {\n      const data = error.response.data;\n\n      if (data) {\n        console.log(data.message);\n\n        if (data.message === \"Unconfirmed email\") {\n          setUnconfirmed(true);\n        }\n      }\n    });\n  };\n\n  if (unconfirmed) {\n    return <UnconfirmedUser />;\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div className=\"field\">\n        <TextInput\n          type=\"text\"\n          name=\"username\"\n          required\n          placeholder=\"username or email\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <TextInput\n          type=\"password\"\n          name=\"password\"\n          required\n          placeholder=\"password\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <input\n          type=\"submit\"\n          className=\"btn-primary\"\n          value=\"sign in\"\n        />\n      </div>\n\n      <ForgotPassword />\n    </form>\n  );\n}\n\nexport default withRouter(SignIn);\n","import React, { useState } from 'react';\nimport { signUp } from './apis/user';\nimport UnconfirmedUser from './UnconfirmedUser';\nimport TextInput from './TextInput';\n\nfunction SignUp({history}) {\n  const [signedUp, setSignedUp] = useState(false);\n\n  const onSubmit = event => {\n    const formElements = event.target.elements;\n\n    event.preventDefault();\n\n    signUp({\n      email: formElements.email.value,\n      username: formElements.username.value,\n      password: formElements.password.value,\n    }).then(response => {\n      const data = response.data;\n\n      if (data) {\n        setSignedUp(true);\n      }\n    }).catch(error => {\n      const data = error.response.data;\n      console.log(data.message);\n    });\n  };\n\n  if (signedUp) {\n    return <UnconfirmedUser />;\n  }\n\n  return (\n    <form onSubmit={onSubmit} className=\"centered\">\n      <div className=\"field\">\n        <TextInput\n          type=\"text\"\n          name=\"email\"\n          required\n          placeholder=\"email\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <TextInput\n          type=\"text\"\n          name=\"username\"\n          required\n          placeholder=\"username\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <TextInput\n          type=\"password\"\n          name=\"password\"\n          required\n          placeholder=\"password\"\n        />\n      </div>\n\n      <div className=\"field\">\n        <input\n          type=\"submit\"\n          className=\"btn-primary\"\n          value=\"sign up\"\n        />\n      </div>\n    </form>\n  );\n}\n\nexport default SignUp;\n","import React from 'react';\nimport DropMenu from './DropMenu';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\n\nimport './SignInUp.scss';\n\nfunction SignInUp() {\n  return (\n    <div className=\"sign-in-up\">\n      <DropMenu button={() => <span className=\"link-primary\">sign in</span>}>\n        <SignIn />\n      </DropMenu>\n      <DropMenu button={() => <span className=\"link-primary\">sign up</span>}>\n        <SignUp />\n      </DropMenu>\n    </div>\n  );\n}\n\nexport default SignInUp;\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport Search from './Search';\nimport { UserContext } from './contexts/UserContext';\nimport SignedInMenu from './SignedInMenu';\nimport SignInUp from './SignInUp';\nimport {\n  FaPlusCircle as AddIcon,\n} from 'react-icons/fa';\n\nimport './TopNav.scss';\n\nfunction TopNav() {\n  const { user } = useContext(UserContext);\n\n  return (\n    <header className=\"header\">\n      <div className=\"app-banner\">\n        <Link to=\"/\">tabster</Link>\n      </div>\n\n      <div className=\"links\">\n        <Search />\n        <div className=\"new-tab-container\">\n          <Link to=\"/tabs/new\">\n            <AddIcon className=\"icon\" /> new tab\n          </Link>\n        </div>\n      </div>\n\n      <div className=\"gap\">\n      </div>\n\n      {user && user.isLoggedIn ? <SignedInMenu /> : <SignInUp />}\n    </header>\n  );\n}\n\nexport default TopNav;\n","import { useState } from \"react\";\n\nexport const useInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  return {\n    value,\n    setValue,\n    reset: () => setValue(\"\"),\n    bind: {\n      value,\n      onChange: event => {\n        setValue(event.target.value);\n      }\n    }\n  };\n};\n\nexport const useNonNativeInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  return {\n    value,\n    setValue,\n    reset: () => setValue(\"\"),\n    bind: {\n      value,\n      onChange: setValue\n    }\n  };\n};\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {\n  useNonNativeInput,\n} from './hooks/useInput';\nimport ComboBox from './ComboBox';\n\nimport './ArtistInput.scss';\n\nfunction ArtistInput({\n  required,\n  placeholder,\n  readOnly,\n  onChange,\n  value\n}) {\n  const { value: artist, setValue: setArtist } = useNonNativeInput(value);\n  const [artists, setArtists] = useState([]);\n\n  const onSearchChange = value => {\n    onArtistChange({id: null, name: value});\n\n    axios.get(`/api/artists?q=${value}`).then(response => {\n      setArtists(response.data);\n    }).catch(error => {\n      const data = error.response.data;\n      console.log(data.message);\n    });\n  };\n\n  const onSearchResultSelect = newArtist => {\n    onArtistChange({id: newArtist.id, name: newArtist.name});\n  };\n\n  const onArtistChange = newArtist => {\n    setArtist(newArtist);\n    onChange(newArtist);\n  };\n\n  return(\n    <ComboBox\n      value={artist ? artist.name : \"\"}\n      items={artists}\n      required={required}\n      placeholder={placeholder}\n      readOnly={readOnly}\n      renderItem={(artist, index, highlighted) => artist.name}\n      onChange={onSearchChange}\n      onSelect={onSearchResultSelect}\n      highlightOnTabKeyDown={true}\n      valueChangeOnHighlight={artist => artist.name}\n    />\n  );\n}\n\nexport default ArtistInput;\n","import React from 'react';\nimport {Controlled as CodeMirror} from 'react17-codemirror2';\n\nimport 'codemirror/lib/codemirror.css';\nimport './codemirror-tabster.scss';\nimport './TabEditor.scss';\n\nfunction TabEditor({value, onChange, insertMode}) {\n  const getSelectionIndex = (cursor, lines) => {\n    // NOTE: mapping length + 1 to account for ending '\\n' which isn't included in `ch`\n    return lines\n      .slice(0, cursor.line)\n      .map(line => line.length + 1)\n      .reduce((a, b) => a + b, cursor.ch);\n  };\n\n  const onBeforeChange = (editor, data, _value) => {\n    const { text: textData, from, to, origin } = data;\n    const lines = value.split('\\n');\n    const deleting = origin === \"+delete\";\n    const [fromIndex, toIndex] = [getSelectionIndex(from, lines), getSelectionIndex(to, lines)];\n    const selecting = toIndex - fromIndex > (deleting ? 1 : 0);\n    const textDataStr = textData.join('');\n    let text = textDataStr === '' ? '\\n' : textDataStr;\n    let overwriting = deleting || !insertMode;\n\n    // TODO: overwriting same char (- with another -, or x for x etc) doesn't move the cursor\n    if (overwriting) {\n      const selectionOrCharAtCursor = value.substring(fromIndex, toIndex);\n      const allDashes = selectionOrCharAtCursor.split('').every(char => char === '-');\n\n      overwriting = !selecting && allDashes && text !== '-' && text !== '\\n' && value.charAt(toIndex) !== '\\n';\n    }\n\n    // TODO: deleting and clearing with same char (- with another -) doesn't move the cursor\n    if (deleting) {\n      const lastChar = value.charAt(toIndex - 1);\n      const deleteWithDash = !selecting && ['-', '\\n'].indexOf(lastChar) === -1;\n\n      text = !insertMode && deleteWithDash ? '-' : '';\n    }\n\n    const newValue = value.substring(0, fromIndex - (overwriting && deleting ? 1 : 0)) +\n      text + value.substring(toIndex + (overwriting && !deleting ? 1 : 0));\n\n    onChange(newValue);\n  };\n\n  return (\n    <CodeMirror\n      value={value}\n      options={{\n        mode: 'null',\n        theme: 'tabster',\n        lineNumbers: false\n      }}\n      onBeforeChange={onBeforeChange}\n    />\n  );\n}\n\nexport default TabEditor;\n","import React, { useState } from 'react';\nimport {\n  useInput,\n  useNonNativeInput,\n} from './hooks/useInput';\nimport TextInput from './TextInput';\nimport ArtistInput from './ArtistInput';\nimport TabEditor from './TabEditor';\n\nimport './TabForm.scss';\n\nconst tabPlaceholder = `e|-------------\nB|-------------\nG|-------------\nD|-------------\nA|-------------\nE|-------------\n`;\n\nfunction TabForm({\nonSave,\n...props\n}) {\n  const { value: title, bind: bindTitle } = useInput(props.title || \"\");\n  const { value: artist, bind: bindArtist } = useNonNativeInput(props.artist || {id: null, name: \"\"});\n  const { value: tab, bind: bindTab } = useNonNativeInput(props.tab || tabPlaceholder);\n  const [insertMode, setInsertMode] = useState(true);\n\n  const onToggleOverwrite = event => {\n    event.preventDefault();\n\n    setInsertMode(!insertMode);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n\n    return onSave({title, artist, tab});\n  };\n\n  return(\n    <form onSubmit={onSubmit} className=\"tab-form\">\n      <div className=\"meta-input\">\n        <div className=\"field\">\n          <TextInput\n            required\n            placeholder=\"tab song title\"\n            {...bindTitle}\n          />\n        </div>\n\n        <div className=\"field\">\n          <ArtistInput\n            required\n            placeholder=\"artist of song\"\n            {...bindArtist}\n          />\n        </div>\n      </div>\n\n      <div className=\"field\">\n        <button\n          className={`btn-primary ${insertMode ? '' : 'toggled'}`}\n          onClick={onToggleOverwrite}\n        >\n          overwriting {`${insertMode ? 'OFF' : 'ON'}`}\n        </button>\n      </div>\n\n      <div className=\"field tab\">\n        <TabEditor\n          {...bindTab}\n          insertMode={insertMode}\n        />\n      </div>\n\n      <div className=\"field\">\n        <input\n          className=\"btn-primary\"\n          type=\"submit\"\n          value=\"save\"\n        />\n      </div>\n    </form>\n  );\n}\n\nexport default TabForm;\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport { toURL } from './utils/url';\nimport TabForm from './TabForm';\n\nfunction TabNew({history}) {\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n\n  const onSave = ({title, artist, tab}) => {\n    if (saving) return;\n\n    setSaving(true);\n    setError(null);\n\n    axios.post('/api/tabs', {\n      title: title,\n      artist: artist,\n      tab: tab\n    }).then(response => {\n      const data = response.data;\n\n      if (data) {\n        history.push(`/tabs/${toURL(data.artist.name)}/${toURL(data.title)}`);\n      }\n    }).catch(error => {\n      const data = error.response.data;\n\n      setSaving(false);\n\n      if (data) {\n        console.log(data.message);\n        setError(data.message);\n      }\n    });\n  };\n\n  return (\n    <div>\n      {error &&\n        <p>{error}</p>\n      }\n      <TabForm onSave={onSave} />\n    </div>\n  );\n}\n\nexport default TabNew;\n","import React from 'react';\nimport TabLink from './TabLink';\n\nimport './TabList.scss';\n\nfunction TabList({tabs, renderTabText, renderEmpty}) {\n  if (!tabs) return(<p>loading...</p>);\n  if (!tabs.length && renderEmpty) return renderEmpty();\n\n  return(\n    <ul className=\"tab-list\">\n      {tabs.map((tab, index) => {\n        return (\n          <li key={index} className=\"tab\">\n            {renderTabText &&\n              <TabLink\n                artist={tab.artist}\n                title={tab.title}\n              >\n                {renderTabText(tab)}\n              </TabLink>\n            }\n            {!renderTabText &&\n              <TabLink\n                artist={tab.artist}\n                title={tab.title}\n              />\n            }\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default TabList;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, Link } from 'react-router-dom';\nimport { fromURL } from './utils/url';\nimport TabList from './TabList';\n\nfunction ArtistTabs() {\n  const params = useParams();\n  const [loading, setLoading] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [tabs, setTabs] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(function loadArtistTabs() {\n    if (loading || loaded) return;\n\n    setLoading(true);\n\n    axios.get(`/api/tabs/${params.artist}`).then(response => {\n      setTabs(response.data);\n\n      setLoaded(true);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setLoaded(true);\n      setLoading(false);\n      setError(error.message);\n    });\n  }, [loading, loaded, params.artist]);\n\n  return (\n    <div>\n      <h3>{fromURL(params.artist)}</h3>\n      {error &&\n        <p>{error}</p>\n      }\n      <TabList\n        tabs={tabs}\n        renderEmpty={() =>\n          <p>\n            No tabs found. Add a new tab <Link to=\"/tabs/new\">here</Link>\n          </p>\n        }\n      />\n    </div>\n  );\n}\n\nexport default ArtistTabs;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport TabList from './TabList';\n\nimport './Tabs.scss';\n\nfunction Tabs() {\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [tabs, setTabs] = useState([]);\n\n  useEffect(() => {\n    if (loaded || loading) {\n      return;\n    }\n\n    setLoading(true);\n\n    axios.get('/api/tabs?sort=newest').then(response => {\n      setTabs(response.data);\n\n      setLoaded(true);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setLoaded(true);\n      setLoading(false);\n      setError(error.message);\n    });\n  }, [loaded, loading]);\n\n  if (!loaded) {\n    return <h3>loading...</h3>;\n  }\n\n  if (error) {\n    return <h3>{error}</h3>;\n  }\n\n  return (\n    <div>\n      <h3>newest tabs</h3>\n      <TabList\n        tabs={tabs}\n        renderTabText={tab => `${tab.artist} - ${tab.title}`}\n      />\n    </div>\n  );\n}\n\nexport default Tabs;\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport TabForm from './TabForm';\n\nfunction TabEdit({\n  id,\n  user,\n  title,\n  artist,\n  tab,\n  createdByUsername,\n  onSave: onSaveProp,\n}) {\n  const [error, setError] = useState(null);\n  const [saving, setSaving] = useState(false);\n\n  const onSave = ({title, artist, tab}) => {\n    if (saving) return;\n\n    setSaving(true);\n    setError(null);\n\n    axios.patch(`/api/tabs/${id}`, {\n      title: title,\n      artist: artist,\n      tab: tab\n    }).then(response => {\n      onSaveProp(response.data);\n    }).catch(error => {\n      const data = error.response.data;\n\n      setSaving(false);\n\n      if (data) {\n        console.log(data.message);\n        setError(data.message);\n      }\n    });\n  };\n\n  return (\n    <div>\n      {error &&\n        <p>{error}</p>\n      }\n      <TabForm\n        id={id}\n        title={title}\n        artist={artist}\n        tab={tab}\n        onSave={onSave}\n      />\n    </div>\n  );\n}\n\nexport default TabEdit;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { toURL } from './utils/url';\n\nconst ANONYMOUS_USERNAME = \"anonymous\";\n\nfunction UserLink({ children, username }) {\n  const encodedUrl = () => {\n    return `/users/${toURL(username)}`;\n  };\n\n  if (username === ANONYMOUS_USERNAME) {\n    return(children || username);\n  }\n\n  return (\n    <Link to={encodedUrl()}>\n      {children || username}\n    </Link>\n  );\n}\n\nexport default UserLink;\n","import React, { useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useParams } from 'react-router-dom';\nimport { UserContext } from './contexts/UserContext';\nimport { toURL } from './utils/url';\nimport TabEdit from './TabEdit';\nimport TabLink from './TabLink';\nimport UserLink from './UserLink';\nimport {\n  FaPen as EditIcon,\n} from 'react-icons/fa';\n\nimport './Tab.scss';\n\nfunction Tab({history}) {\n  const { user } = useContext(UserContext)\n  const params = useParams();\n  const [loading, setLoading] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n\n  const [tabID, setTabID] = useState(null);\n  const [artist, setArtist] = useState(null);\n  const [createdByUsername, setCreatedByUsername] = useState(null);\n  const [tab, setTab] = useState(null);\n  const [title, setTitle] = useState(null);\n\n  const [error, setError] = useState(null);\n  const [edit, setEdit] = useState(false);\n\n  const canEdit = () => createdByUsername === user.username;\n\n  const sameTabLoaded = (artist, title, params) => {\n    if (!artist || !title || !params.artist || !params.title) return false;\n\n    function toLowerURL(artistName, title) {\n      return toURL(`${artistName}/${title}`).toLowerCase();\n    }\n\n    return toLowerURL(artist.name, title) === toLowerURL(params.artist, params.title);\n  };\n\n  const onEditSave = data => {\n    setEdit(false);\n\n    if (sameTabLoaded(data.artist, data.title, params)) {\n      setTabID(data.id);\n      setArtist(data.artist);\n      setCreatedByUsername(data.created_by_username);\n      setTab(data.tab);\n      setTitle(data.title);\n    } else {\n      history.push(`/tabs/${toURL(data.artist.name)}/${toURL(data.title)}`);\n      setLoaded(false);\n    }\n  };\n\n  useEffect(function loadTab() {\n    if (loading || error || (loaded && sameTabLoaded(artist, title, params))) {\n      return;\n    }\n\n    if (loading || error || loaded) return;\n\n    setLoading(true);\n\n    axios.get(`/api/tabs/${params.artist}/${params.title}`).then(response => {\n      const data = response.data;\n\n      setTabID(data.id);\n      setArtist(data.artist);\n      setCreatedByUsername(data.created_by_username);\n      setTab(data.tab);\n      setTitle(data.title);\n\n      setLoaded(true);\n      setLoading(false);\n    }).catch(e => {\n      const data = e.response.data;\n      console.log(data.message);\n\n      setError(data.message);\n      setLoaded(true);\n      setLoading(false);\n    });\n  }, [loading, loaded, error, artist, title, params]);\n\n  if (!loaded) {\n    return <h3>loading...</h3>;\n  }\n\n  if (error) {\n    let message = <h3>{error}</h3>;\n\n    if (error === \"Tab not found\") {\n      message = <p>No tab found. Add a new tab <Link to=\"/tabs/new\">here</Link>.</p>;\n    }\n\n    return message;\n  }\n\n  if (edit) {\n    return(\n      <TabEdit\n        id={tabID}\n        user={user}\n        artist={artist}\n        createdByUsername={createdByUsername}\n        title={title}\n        tab={tab}\n        onSave={onEditSave}\n      />\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"tab-header\">\n        <div>\n          <div>\n            <TabLink artist={artist.name} title={title} />{' '}\n            by{' '}\n            <Link to={`/tabs/${toURL(artist.name)}`}>{artist.name}</Link>{' '}\n          </div>\n          <div>\n            created by <UserLink username={createdByUsername} />\n          </div>\n        </div>\n        <div className=\"tab-actions\">\n          {canEdit() &&\n            <span\n              className=\"link-primary action\"\n              onClick={() => setEdit(true)}\n            >\n              <EditIcon /> edit\n            </span>\n          }\n        </div>\n      </div>\n      <pre className=\"tab\">{tab}</pre>\n    </div>\n  );\n}\n\nexport default Tab;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { fromURL } from './utils/url';\nimport TabList from './TabList';\n\nfunction UserTabs() {\n  const { username } = useParams();\n  const [loading, setLoading] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [tabs, setTabs] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(function loadUserTabs() {\n    if (loading || loaded) return;\n\n    setLoading(true);\n\n    axios.get(`/api/tabs?username=${username}`).then(response => {\n      setTabs(response.data);\n\n      setLoaded(true);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setLoaded(true);\n      setLoading(false);\n      setError(error.message);\n    });\n  }, [loading, loaded, username]);\n\n  return (\n    <div>\n      <h3>{fromURL(username)}</h3>\n      {error &&\n        <p>{error}</p>\n      }\n      <TabList\n        tabs={tabs}\n        renderTabText={tab => `${tab.artist} - ${tab.title}`}\n        renderEmpty={() => <p>No tabs created by this user.</p>}\n      />\n    </div>\n  );\n}\n\nexport default UserTabs;\n","import React from 'react';\n\nimport { UserProvider } from './contexts/UserContext';\n\nimport TopNav from './TopNav';\nimport TabNew from './TabNew';\nimport ArtistTabs from './ArtistTabs';\nimport Tabs from './Tabs';\nimport Tab from './Tab';\nimport ResetPassword from './ResetPassword';\nimport UserTabs from './UserTabs';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport './App.scss';\n\nfunction App() {\n  return (\n    <UserProvider>\n      <Router>\n        <div className=\"app\">\n          <TopNav />\n          <div className=\"page\">\n            <Switch>\n              <Redirect exact from=\"/\" to=\"/tabs\" />\n              <Route path=\"/tabs\">\n                <Switch>\n                  <Route exact path=\"/tabs\" component={Tabs} />\n                  <Route exact path=\"/tabs/new\" component={TabNew} />\n                  <Route path=\"/tabs/:artist\">\n                    <Switch>\n                      <Route exact path=\"/tabs/:artist\" component={ArtistTabs} />\n                      <Route exact path=\"/tabs/:artist/:title\" component={Tab} />\n                    </Switch>\n                  </Route>\n                </Switch>\n              </Route>\n              <Route path=\"/user\">\n                <Route exact path=\"/user/reset-password\" component={ResetPassword} />\n              </Route>\n              <Route path=\"/users\">\n              <Route exact path=\"/users/:username\" component={UserTabs} />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </UserProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}